<!DOCTYPE html>
<html lang="en">
{% load static %}
{% load i18n %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Customs PACT 2025 | Breaking Barriers, Building Bridges</title>
    <link rel="icon" href="assets/1logo.png" type="image/png">

    <meta name="description"
        content="Join us for The Customs PACT 2025 in Abuja, Nigeria. A premier event fostering African trade cooperation. Register now!">
    <meta name="keywords"
        content="Customs PACT, African Trade, Abuja, Nigeria, Trade Cooperation, Customs Cooperation, Economic Growth, Trade Facilitation">
    <meta name="author" content="Ulrich CODJIA">
    <meta property="og:title" content="The Customs PACT 2025 | Breaking Barriers, Building Bridges">
    <meta property="og:description"
        content="Join us for The Customs PACT 2025 in Abuja, Nigeria. A premier event fostering African trade cooperation. Register now!">
    <meta property="og:image" content="assets/1logo.png">
    <meta property="og:type" content="website">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/v4-shims.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Bootstrap CSS (cdn) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- responsive css -->
    <link rel="stylesheet" href="css/responsive.css">
</head>

<body>
    <!-- Preloader -->
    <div class="preloader" id="preloader">
        <div class="loader"></div>
    </div>


    {% include "includes/nav.html" %}

    {% block content %}

    {% endblock %}

    {% include "includes/footer.html" %}

    <!-- Registration Modal -->
    <div id="registrationModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <h2 class="modal-title">Register for The Customs PACT</h2>

            <form id="registrationForm">
                <!-- Collapsible Sections -->
                <div class="colapse active">
                    <button type="button" class="collapse-btn">
                        <i class="fas fa-user-tie"></i>
                        Personal Information
                    </button>
                    <div class="collapse-content">
                        <div class="form-group">
                            <i class="fa fa-user"></i>
                            <input type="text" name="fullname" placeholder="Full Name" required>
                            <label>Full Name</label>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fa fa-building"></i>
                                <input type="text" name="organization" placeholder="Organization / Company" required>
                                <label>Organization / Company</label>
                            </div>
                            <div class="form-group">
                                <i class="fa fa-briefcase"></i>
                                <input type="text" name="position" placeholder="Position / Title">
                                <label>Position / Title</label>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fa fa-map-marker-alt"></i>
                                <input type="text" name="city" placeholder="City / Location">
                                <label>City / Location</label>
                            </div>
                            <div class="form-group">
                                <i class="fa fa-globe"></i>
                                <input type="text" name="country" placeholder="Country / Region">
                                <label>Country / Region</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="colapse">
                    <button type="button" class="collapse-btn">
                        <i class="fas fa-address-book"></i>
                        Contact Details
                    </button>
                    <div class="collapse-content">
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fa fa-envelope"></i>
                                <input type="email" name="email" placeholder="Email Address" required>
                                <label>Email Address</label>
                            </div>
                            <div class="form-group">
                                <i class="fa fa-phone"></i>
                                <input type="tel" name="phone" placeholder="Phone Number" required>
                                <label>Phone Number</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="colapse">
                    <button type="button" class="collapse-btn">
                        <i class="fas fa-plane"></i>
                        Participation Details
                    </button>
                    <div class="collapse-content">
                        <div class="form-row">
                            <div class="form-group">
                                <i class="fa fa-plane-arrival"></i>
                                <input type="date" name="arrival" placeholder="Arrival Date">
                                <label>Arrival Date</label>
                            </div>
                            <div class="form-group">
                                <i class="fa fa-plane-departure"></i>
                                <input type="date" name="departure" placeholder="Departure Date">
                                <label>Departure Date</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <i class="fa fa-passport"></i>
                            <select name="assistance">
                                <option value="">Need assistance with visa/travel?</option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="colapse">
                    <button type="button" class="collapse-btn">
                        <i class="fas fa-handshake"></i>
                        Networking & Engagement
                    </button>
                    <div class="collapse-content">
                        <label>
                            <span>
                                <i class="fa fa-comments"></i>
                                Panel / Roundtable Discussions
                            </span>
                            <input style="width: unset; margin-left:10px;" type="checkbox" name="engagement"
                                value="Panel">
                        </label>
                        <label>
                            <span>
                                <i class="fa fa-chalkboard-teacher"></i>
                                Capacity Building Sessions
                            </span>
                            <input style="width: unset; margin-left:10px;" type="checkbox" name="engagement"
                                value="Capacity">
                        </label>
                        <label>
                            <span>
                                <i class="fa fa-network-wired"></i>
                                Networking Sessions (B2B / B2G / BtoCustoms)
                            </span>
                            <input style="width: unset; margin-left:10px;" type="checkbox" name="engagement"
                                value="Networking">
                        </label>
                    </div>
                </div>

                <div class="colapse">
                    <button type="button" class="collapse-btn">
                        <i class="fas fa-info-circle"></i>
                        Additional Information
                    </button>
                    <div class="collapse-content">
                        <div class="form-group">
                            <i class="fa fa-utensils"></i>
                            <textarea name="dietary" placeholder="Dietary Restrictions / Special Needs"></textarea>
                            <label>Dietary Restrictions</label>
                        </div>
                        <div class="form-group">
                            <i class="fa fa-bell"></i>
                            <select name="updates">
                                <option value="">Receive updates about future editions?</option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div style="text-align:center; margin-top:30px;">
                    <button type="submit" class="btn btn-primary">Submit Registration</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Bootstrap Bundle (JS + Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
    </script>

    <script>
        // Preloader
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('preloader').classList.add('hidden');
            }, 1000);
        });

        // Navigation scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Mobile menu toggle
        const mobileMenu = document.getElementById('mobileMenu');
        const navMenu = document.getElementById('navMenu');

        mobileMenu.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });


        // Gestion dropdown sur mobile
        document.querySelectorAll(".dropdown-toggle").forEach(item => {
            item.addEventListener("click", e => {
                if (window.innerWidth <= 768) {
                    e.preventDefault();
                    const dropdown = item.nextElementSibling;
                    dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
                }
            });
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
                if (navMenu.classList.contains('active')) {
                    navMenu.classList.remove('active');
                }
            });
        });

        // Countdown Timer
        const countdown = () => {
            const countDate = new Date('November 17, 2025 09:00:00').getTime();
            const now = new Date().getTime();
            const gap = countDate - now;

            const second = 1000;
            const minute = second * 60;
            const hour = minute * 60;
            const day = hour * 24;

            const days = Math.floor(gap / day);
            const hours = Math.floor((gap % day) / hour);
            const minutes = Math.floor((gap % hour) / minute);
            const seconds = Math.floor((gap % minute) / second);

            document.getElementById('days').innerText = days < 10 ? '0' + days : days;
            document.getElementById('hours').innerText = hours < 10 ? '0' + hours : hours;
            document.getElementById('minutes').innerText = minutes < 10 ? '0' + minutes : minutes;
            document.getElementById('seconds').innerText = seconds < 10 ? '0' + seconds : seconds;

            if (gap < 0) {
                document.getElementById('countdown').innerHTML = "<h2>The event has started!</h2>";
            }
        };
        setInterval(countdown, 1000);
        countdown();

        // Language Switcher (Placeholder functionality)
        function changeLanguage(lang) {
            const buttons = document.querySelectorAll('.lang-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            alert('Language switched to ' + lang.toUpperCase() + '. (Functionality to be implemented)');
        }

        // Scroll Reveal
        const revealElements = document.querySelectorAll('.reveal');
        const revealOnScroll = () => {
            const windowHeight = window.innerHeight;
            revealElements.forEach(el => {
                const elementTop = el.getBoundingClientRect().top;
                if (elementTop < windowHeight - 100) {
                    el.classList.add('active');
                }
            });
        };
        window.addEventListener('scroll', revealOnScroll);
        window.addEventListener('load', revealOnScroll);
        revealOnScroll();


        // Scroll reveals animation
        const revealsElements = document.querySelectorAll('.reveals');

        const revealsOnScroll = () => {
            const windowHeight = window.innerHeight;
            revealsElements.forEach(el => {
                const elementTop = el.getBoundingClientRect().top;
                if (elementTop < windowHeight - 100) {
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                }
            });
        };

        // Initial styling for reveals elements
        revealsElements.forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'all 0.8s ease';
        });

        window.addEventListener('scroll', revealsOnScroll);
        window.addEventListener('load', revealsOnScroll);
        revealsOnScroll();
    </script>

    <script>
        // Program Tabs
        const dayTabs = document.querySelectorAll('.day-tab');
        const programContents = document.querySelectorAll('.program-content');

        dayTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const targetDay = tab.getAttribute('data-day');

                dayTabs.forEach(t => t.classList.remove('active'));
                programContents.forEach(c => c.classList.remove('active'));

                tab.classList.add('active');
                document.getElementById(targetDay).classList.add('active');
            });
        });

        // Program Tabs
        const logisticsTabs = document.querySelectorAll('.logistic-tab');
        const lsTabs = document.querySelectorAll('.ls');
        const logisticsProgramContents = document.querySelectorAll('.logistic-program-content');

        // --- Gestion du clic sur les onglets principaux ---
        logisticsTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const targetLogistic = tab.getAttribute('data-logistic');

                // Désactiver tous les onglets et contenus
                logisticsTabs.forEach(t => t.classList.remove('active'));
                logisticsProgramContents.forEach(c => c.classList.remove('active'));

                // Activer le bon onglet et son contenu
                tab.classList.add('active');
                document.getElementById(targetLogistic).classList.add('active');
            });
        });

        // --- Gestion du clic sur les liens secondaires (.ls) ---
        lsTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const targetLogistic = tab.getAttribute('data-logistic');

                // Désactiver tous les onglets et contenus
                logisticsTabs.forEach(t => t.classList.remove('active'));
                logisticsProgramContents.forEach(c => c.classList.remove('active'));

                // Trouver l'onglet principal correspondant au même data-logistic
                const relatedTab = document.querySelector(`.logistic-tab[data-logistic="${targetLogistic}"]`);

                // Activer le bon onglet et le contenu
                if (relatedTab) relatedTab.classList.add('active');
                document.getElementById(targetLogistic).classList.add('active');
            });
        });

        // Tabs functionality
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabPanels = document.querySelectorAll('.tab-panel');

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetTab = button.getAttribute('data-tab');

                // Remove active class from all buttons and panels
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabPanels.forEach(panel => panel.classList.remove('active'));

                // Add active class to clicked button and corresponding panel
                button.classList.add('active');
                document.getElementById(targetTab).classList.add('active');
            });
        });

        // Keyboard navigation
        tabButtons.forEach((button, index) => {
            button.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    const nextIndex = (index + 1) % tabButtons.length;
                    tabButtons[nextIndex].click();
                    tabButtons[nextIndex].focus();
                } else if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    const prevIndex = (index - 1 + tabButtons.length) % tabButtons.length;
                    tabButtons[prevIndex].click();
                    tabButtons[prevIndex].focus();
                }
            });
        });

        // Contrôle du son de la vidéo YouTube
        let isMuted = true;
        let player;

        // Charger l'API YouTube
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // Initialiser le lecteur YouTube
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('heroVideo', {
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        function onPlayerReady(event) {
            const soundToggle = document.getElementById('soundToggle');
            const soundIcon = document.getElementById('soundIcon');

            soundToggle.addEventListener('click', function () {
                if (isMuted) {
                    player.unMute();
                    soundIcon.textContent = '🔊';
                    isMuted = false;
                } else {
                    player.mute();
                    soundIcon.textContent = '🔇';
                    isMuted = true;
                }
            });
        }

        // Modal
        const modal = document.getElementById("registrationModal");
        const openBtns = [
            document.getElementById("openRegistration"),
            document.getElementById("openRegistration1"),
            document.getElementById("become-speaker"),
            document.getElementById("become-speaker2")
        ];
        const closeBtn = document.getElementById("closeModal");

        // Ouvrir le modal
        openBtns.forEach(btn => {
            if (btn) {
                btn.addEventListener("click", e => {
                    e.preventDefault();
                    modal.style.display = "flex";
                    document.body.style.overflow = "hidden";
                });
            }
        });

        // Fermer le modal
        if (closeBtn) {
            closeBtn.addEventListener("click", () => {
                modal.style.display = "none";
                document.body.style.overflow = "auto";
            });
        }

        // Fermer en cliquant à l’extérieur
        window.addEventListener("click", e => {
            if (e.target === modal) {
                modal.style.display = "none";
                document.body.style.overflow = "auto";
            }
        });

        // Collapse (corrigé et fluide)
        document.querySelectorAll('.collapse-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const content = btn.nextElementSibling;

                // Ferme les autres sections
                document.querySelectorAll('.collapse-content').forEach(c => {
                    if (c !== content) {
                        c.style.maxHeight = null;
                        c.parentElement.classList.remove("active");
                    }
                });

                // Toggle la section actuelle
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                    btn.parentElement.classList.remove("active");
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                    btn.parentElement.classList.add("active");
                }
            });
        });
    </script>

    <script>
        const track = document.querySelector('.carousel-track');
        const cards = Array.from(track.children);
        const prevBtn = document.querySelector('.carousel-btn.prev');
        const nextBtn = document.querySelector('.carousel-btn.next');
        const dotsContainer = document.getElementById('carouselDots');
        const filterBtns = document.querySelectorAll('.filter-btn');

        let currentIndex = 0;
        let cardsPerView = 3;
        let filteredCards = [...cards];

        function updateCardsPerView() {
            if (window.innerWidth <= 768) {
                cardsPerView = 1;
            } else if (window.innerWidth <= 1024) {
                cardsPerView = 2;
            } else {
                cardsPerView = 3;
            }
        }

        function createDots() {
            dotsContainer.innerHTML = '';
            const numDots = Math.ceil(filteredCards.length / cardsPerView);

            for (let i = 0; i < numDots; i++) {
                const dot = document.createElement('div');
                dot.classList.add('dot');
                if (i === 0) dot.classList.add('active');
                dot.addEventListener('click', () => goToSlide(i));
                dotsContainer.appendChild(dot);
            }
        }

        function updateDots() {
            const dots = dotsContainer.querySelectorAll('.dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentIndex);
            });
        }

        function moveToSlide() {
            const cardWidth = cards[0].getBoundingClientRect().width;
            const gap = 25;
            const moveAmount = -(currentIndex * cardsPerView * (cardWidth + gap));
            track.style.transform = `translateX(${moveAmount}px)`;
            updateDots();
        }

        function goToSlide(index) {
            const maxIndex = Math.ceil(filteredCards.length / cardsPerView) - 1;
            currentIndex = Math.max(0, Math.min(index, maxIndex));
            moveToSlide();
        }

        prevBtn.addEventListener('click', () => {
            if (currentIndex > 0) {
                currentIndex--;
                moveToSlide();
            }
        });

        nextBtn.addEventListener('click', () => {
            const maxIndex = Math.ceil(filteredCards.length / cardsPerView) - 1;
            if (currentIndex < maxIndex) {
                currentIndex++;
                moveToSlide();
            }
        });

        // Filter functionality
        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const filter = btn.dataset.filter;

                // Update active button
                filterBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                // Filter cards
                if (filter === 'all') {
                    filteredCards = [...cards];
                    cards.forEach(card => card.style.display = 'block');
                } else {
                    cards.forEach(card => {
                        const category = card.dataset.category;
                        if (category === filter) {
                            card.style.display = 'block';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                    filteredCards = cards.filter(card => card.dataset.category === filter);
                }

                currentIndex = 0;
                createDots();
                moveToSlide();
            });
        });

        // Responsive handling
        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                updateCardsPerView();
                createDots();
                currentIndex = 0;
                moveToSlide();
            }, 250);
        });

        // Initialize
        updateCardsPerView();
        createDots();
        moveToSlide();

        // Touch/Swipe support for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        track.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        track.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            if (touchStartX - touchEndX > swipeThreshold) {
                // Swipe left - next
                const maxIndex = Math.ceil(filteredCards.length / cardsPerView) - 1;
                if (currentIndex < maxIndex) {
                    currentIndex++;
                    moveToSlide();
                }
            }
            if (touchEndX - touchStartX > swipeThreshold) {
                // Swipe right - prev
                if (currentIndex > 0) {
                    currentIndex--;
                    moveToSlide();
                }
            }
        }

        function handleSubmit(e) {
            e.preventDefault();

            // Récupération des valeurs du formulaire
            const formData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                organization: document.getElementById('organization').value,
                subject: document.getElementById('subject').value,
                message: document.getElementById('message').value
            };

            // Simulation d'envoi (à remplacer par votre logique backend)
            console.log('Form data:', formData);

            // Afficher le message de succès
            const successMessage = document.getElementById('successMessage');
            successMessage.classList.add('show');

            // Réinitialiser le formulaire
            document.getElementById('contactForm').reset();

            // Cacher le message après 5 secondes
            setTimeout(() => {
                successMessage.classList.remove('show');
            }, 5000);

            // Faire défiler vers le message de succès
            successMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

            return false;
        }

        // Animation au défilement
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.form-group').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'all 0.6s ease';
            observer.observe(el);
        });
    </script>

</body>

</html>